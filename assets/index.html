<!DOCTYPE html>
<html lang="en">

<head>
  <title>Fake Company</title>
</head>

<body>
  <h1>Fake Company</h1>

  <h2>Branches</h2>

  <table id="branchesTable">
    <tr>
    <th>Name</th>
    <th>Address</th>
  </tr>
  </table>

  <form action="/branch" method="post">
    <input type="text" name="name">
    <input type="text" name="address">
    <input type="submit" value="Add branch">
  </form>

  <h2>Departments</h2>

  <table id="departmentsTable">
    <tr>
    <th>Name</th>
    <th>Branch</th>
  </tr>
  </table>

  <h2>Employees</h2>

  <table id="employeesTable">
    <tr>
    <th>Forename</th>
    <th>Surname</th>
    <th>Department</th>
  </tr>
  </table>

  <p id="CounterText">Counter: <span id="CounterValue"></span></p>
  <!-- 
    This section contains the form, that will be used to hit the 
    `POST /bird` API that we will build in the next section
   -->
  <form action="/dummy" method="post">
    <input type="submit" value="Submit">
  </form>

  <script type="text/javascript">
    branchesTable = document.getElementById("branchesTable")
    fetch("/branches")
    .then(response => response.json())
    .then(branches => {
      branches.forEach(branch => {
        row = document.createElement("tr")

        branchName = document.createElement("td")
        branchName.innerHTML = branch.name
        branchAddress = document.createElement("td")
        branchAddress.innerHTML = branch.address

        row.appendChild(branchName)
        row.appendChild(branchAddress)

        branchesTable.append(row)
      })
      
  })
  </script>
</body>

</html>
